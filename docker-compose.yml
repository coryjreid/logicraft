version: "3.8"

services:
  mc:
    image: itzg/minecraft-server
    container_name: mc
    ports:
      - 25565:25565
    environment:
      EULA: 'true'
      VERSION: '1.19.2'
      TYPE: 'FORGE'
      FORGE_VERSION: '43.2.21'
      MEMORY: '4G'
      USE_AIKAR_FLAGS: 'true'
      DIFFICULTY: 'hard'
      ENABLE_WHITELIST: 'true'
      ENFORCE_WHITELIST: 'true'
      ENABLE_COMMAND_BLOCK: 'true'
      MAX_TICK_TIME: 60000
      SPAWN_PROTECTION: 0
      PVP: 'true'
      TZ: 'America/Denver'
      PACKWIZ_URL: ${PACKWIZ_URL}
      FORCE_GAMEMODE: 'true'
      ALLOW_FLIGHT: 'true'
      #DEBUG: 'true'
      WHITELIST: ${WHITELIST}
      GAME_MODE: ${GAME_MODE}
      OPS: ${OPS}
      UID: ${UID}
      GID: ${GID}
      RCON_CMDS_STARTUP:  |-
        gamerule doFireTick false
    volumes:
      - ${DATA_DIR}:/data
